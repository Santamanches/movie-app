import{k as h,r as v,b as y,o as s,d,w as g,e as p,f as o,u as f,i as k,t as x,n as $,p as S,q as w,h as _,s as b,v as B,c,x as C,F as U,l as V,m as D,a as F}from"./index-ee1e62b8.js";const N={alt:"",class:"main__search-list-item-img"},T={class:"main__search-list-item-title"},q={__name:"SearchContent",props:{item:Object},setup(t){const e=t,r=h(()=>e.item.media_type=="movie"?"movie":e.item.media_type=="tv"?"tv":"");return(a,l)=>{const i=v("router-link"),u=y("lazy");return s(),d(i,{to:`${r.value}/${t.item.id}`,class:"main__search-list-item"},{default:g(()=>[p(o("img",N,null,512),[[u,f(k)+t.item.backdrop_path]]),o("h2",T,x(t.item.title||t.item.name),1)]),_:1},8,["to"])}}},z=$("search",{state:()=>({url:"https://api.themoviedb.org/3/",result:null}),actions:{async searching(t){try{let e=await S.get(`${this.url}/search/multi?api_key=${w}&language=ru-RU&query=${t}`);this.result=e.data.results,console.log(this.result)}catch(e){console.error("ошибка при поиске "+e)}}}}),j={class:"main__search"},A={class:"container"},E=["placeholder"],K={key:0,class:"main__search-list"},L={__name:"Search",setup(t){const e=z(),r=_("Найти фильм, сериал..."),a=_(""),l=h(()=>e.result);let i=null;return b(a,()=>{clearTimeout(i),i=setTimeout(()=>{e.searching(a.value)},500)}),B(()=>e.result=null),(u,m)=>(s(),c("div",j,[o("div",A,[p(o("input",{type:"text",class:"main__search-input",placeholder:r.value,"onUpdate:modelValue":m[0]||(m[0]=n=>a.value=n)},null,8,E),[[C,a.value]]),l.value?(s(),c("div",K,[(s(!0),c(U,null,V(l.value,n=>(s(),d(q,{key:n.id,item:n},null,8,["item"]))),128))])):D("",!0)])]))}},M={class:"main"},P={__name:"SearchPage",setup(t){return(e,r)=>(s(),c("main",M,[F(L)]))}};export{P as default};
